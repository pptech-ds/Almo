{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}
    <div style="height: 30rem; background-color: rgba(255,0,0,0.1);">
    </div>

    <!-- ======= Breadcrumbs Section ======= -->
    <section class="breadcrumbs">
      <div class="container">

        {# {% for userBySpeciality in usersBySpeciality %}
            {{ dump(userBySpeciality) }}
            {{ dump(userBySpeciality.disponibilities) }}
            MLLLLLLLLL 
            {% if userBySpeciality.disponibilities is defined %}
                {% for disponibility in userBySpeciality.disponibilities %}
                    {{ dump(disponibility) }}
                    OKKKKKKKKKKKKK {{ dump(disponibility.name) }}
                    OKKKKKKKKKKKKK {{ dump(disponibility.content) }}
                    OKKKKKKKKKKKKK {{ dump(disponibility.startTime) }}
                    OKKKKKKKKKKKKK {{ dump(disponibility.endTime) }}
                    OKKKKKKKKKKKKK {{ dump(disponibility.reservedBy) }}
                    OKKKKKKKKKKKKK {{ dump(disponibility.isVisio) }}
                {% endfor %}

            {% endif %}
        {% endfor %} #}



        <div class="table-responsive">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>Le Spécialiste</th>
                        <th>Les Disponibilités</th>
                    </tr>
                </thead>
                <tfoot>
                    <tr>
                        <th hidden>Le Spécialiste</th>
                        <th hidden>Les Disponibilités</th>
                    </tr>
                </tfoot>
                <tbody>
                    {% for userBySpeciality in usersBySpeciality %}
                        <tr>
                            <td>{{ userBySpeciality.email }}</td>
                                <td>
                            {% for disponibility in userBySpeciality.disponibilities %}
                                {% if (disponibility.reservedBy == null) %}
                                    {% if (disponibility.isVisio == true) %}
                                        <a href="{{path('user_reservation_add', {'id':disponibility.id})}}" type="button" class="btn btn-primary my-1">En visio <br> {{ disponibility.startTime | date("Y/m/d") }} <br> {{ disponibility.startTime | date('H:i:s') }}  {{ disponibility.endTime | date('H:i:s') }}</a>
                                    {% else %}
                                        <a href="{{path('user_reservation_add', {'id':disponibility.id})}}" type="button" class="btn btn-success my-1">En présentiel <br> {{ disponibility.startTime | date("Y/m/d") }} <br> {{ disponibility.startTime | date('H:i:s') }}  {{ disponibility.endTime | date('H:i:s') }}</a>
                                    {% endif %}
                                {% endif %}
                            {% endfor %}
                                </td>   
                        </tr>
                    {% endfor %}
  
                </tbody>
            </table>
        </div>

      </div>
    </section><!-- End Breadcrumbs Section -->

    
{% endblock %}
